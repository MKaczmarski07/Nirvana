<div class="w-screen h-screen flex justify-center">
  <div
    class="overflow-hidden relative flex flex-col justify-between w-[90%] sm:h-[80%] h-full sm:mt-[1.5rem] my:my-[1.5rem] p-3 rounded-[10px]"
    *ngIf="!showNewNote && !isCurrentNoteOpened"
  >
    <div class="flex flex-col justify-center">
      <div class="sm:mb-3 my-3 text-white textShadow">
        <h1 class="text-4xl">Hello, {{ getNameService.userName }}</h1>
        <span class="text-2xl"
          >You have {{ numberOfNotes }}
          <span *ngIf="numberOfNotes === 1">note</span>
          <span *ngIf="numberOfNotes !== 1">notes</span>
        </span>
      </div>

      <div
        class="flex overflow-y-scroll flex-col sm:max-h-[64vh] max-h-[90vh] items-center sm:pb-0 pb-6"
      >
        <div *ngIf="notes.length === 0" class="flex mt-6">
          <img
            class="h-auto w-[10rem]"
            src="../../assets/Images/empty-notepad.svg"
          />
        </div>
        <ul class="flex flex-wrap gap-3 pb-6 xl:max-w-[67.6rem]">
          <li *ngFor="let note of notes; let i = index">
            <app-note-miniature
              [note]="note"
              [index]="i"
              (openCurrentNote)="isCurrentNoteOpened = true"
              (sendCurrentNoteIndex)="findCurrentNote($event)"
            ></app-note-miniature>
          </li>
        </ul>
      </div>
    </div>
    <div
      class="absolute bottom-3 right-3 md:right-6 flex flex-row-reverse gap-3"
    >
      <button
        class="p-3 bg-slate-100 bg-opacity-70 backdrop-blur-sm rounded-[50%] shadow-md"
        (click)="showNewNote = true"
      >
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="#333333"
          stroke-width="2"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M12 4.5v15m7.5-7.5h-15"
          ></path>
        </svg>
      </button>
      <button
        routerLink="/"
        class="p-3 rounded-[50%] bg-slate-100 bg-opacity-70 backdrop-blur-sm sm:hidden block"
      >
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M15.75 19.5L8.25 12l7.5-7.5"
          ></path>
        </svg>
      </button>
    </div>
  </div>

  <app-new-note
    *ngIf="showNewNote"
    (showNewNote)="showNewNote = false"
    (sendNewNote)="addNote($event)"
    class="overflow-hidden relative flex flex-col justify-between w-[90%] sm:h-[80%] h-[calc(100vh-3rem)] mt-[1.5rem] bg-slate-100 bg-opacity-70 backdrop-blur-sm p-3 rounded-[10px]"
  >
  </app-new-note>

  <app-note
    *ngIf="isCurrentNoteOpened"
    (closeCurrentNote)="isCurrentNoteOpened = false"
    (updateNoteValue)="updateNoteValue($event, $event)"
    (deleteNote)="deleteNote($event)"
    [note]="currentOpenedNote"
    [index]="currentNoteIndex"
    class="overflow-hidden relative flex flex-col justify-between w-[90%] sm:h-[80%] h-[calc(100vh-3rem)] mt-[1.5rem] bg-slate-100 bg-opacity-70 backdrop-blur-sm p-3 rounded-[10px]"
  ></app-note>
</div>
