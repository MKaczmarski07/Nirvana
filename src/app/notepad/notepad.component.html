<div class="w-screen h-screen flex">
  <div
    class="overflow-y-scroll relative flex flex-col w-full h-full p-6"
    *ngIf="!showNewNote && !isCurrentNoteOpened"
  >
    <button routerLink="/" class="flex text-textPrimary gap-2 text-xl z-10">
      <svg
        class="w-6 h-6"
        fill="none"
        stroke="#ffffffde"
        stroke-width="2"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
        aria-hidden="true"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"
        ></path>
      </svg>
      <span> Go back </span>
    </button>

    <div class="flex flex-col">
      <h1 class="text-4xl text-textPrimary my-6 z-10">My Notes</h1>

      <div class="flex w-full flex-col">
        <div
          *ngIf="notes.length === 0"
          class="flex absolute h-full w-full top-0 left-0"
        >
          <img
            class="m-auto"
            width="150 px"
            height="150 px"
            src="../../assets/Images/empty-notepad.svg"
          />
        </div>
        <ul
          class="grid xl:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 grid-cols-1 gap-3 w-full"
        >
          <li *ngFor="let note of notes; let i = index">
            <app-note-miniature
              [note]="note"
              [index]="i"
              (openCurrentNote)="isCurrentNoteOpened = true"
              (sendCurrentNoteIndex)="findCurrentNote($event)"
            ></app-note-miniature>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div
    *ngIf="!showNewNote && !isCurrentNoteOpened"
    class="fixed md:bottom-6 md:right-6 bottom-4 right-4"
  >
    <button class="p-3 bg-accent rounded-[50%]" (click)="showNewNote = true">
      <svg
        class="w-6 h-6"
        fill="none"
        stroke="#ffffffde"
        stroke-width="2"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
        aria-hidden="true"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          d="M12 4.5v15m7.5-7.5h-15"
        ></path>
      </svg>
    </button>
  </div>

  <app-new-note
    *ngIf="showNewNote"
    (showNewNote)="showNewNote = false"
    (sendNewNote)="addNote($event)"
    class="overflow-hidden relative flex flex-col justify-between w-full h-full"
  >
  </app-new-note>

  <app-note
    *ngIf="isCurrentNoteOpened"
    (closeCurrentNote)="isCurrentNoteOpened = false"
    (updateNoteValue)="updateNoteValue($event, $event)"
    (deleteNote)="deleteNote($event)"
    [note]="currentOpenedNote"
    [index]="currentNoteIndex"
    class="relative flex flex-col justify-between w-full h-full"
  ></app-note>
</div>
